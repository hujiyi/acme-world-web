(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0e0bdfc"],{"159b":function(e,t,r){var n=r("da84"),o=r("fdbc"),a=r("785a"),c=r("17c2"),u=r("9112"),s=function(e){if(e&&e.forEach!==c)try{u(e,"forEach",c)}catch(t){e.forEach=c}};for(var i in o)o[i]&&s(n[i]&&n[i].prototype);s(a)},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),a=o("forEach");e.exports=a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,r){var n=r("d039"),o=r("b622"),a=r("2d00"),c=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"402f":function(e,t,r){"use strict";r("8046")},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,a=r("1dde"),c=a("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"50ab":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lay-header horiz-container"},[r("router-link",{attrs:{to:"/"}},[r("el-button",{attrs:{type:"text"}},[e._v("首页")])],1),r("div",{staticClass:"spacer"}),r("el-link",{staticClass:"mx-2",attrs:{underline:!1,type:"success"}},[r("i",{staticClass:"fa fa-bell fa-lg"}),e._v(" 消息 ")]),r("el-link",{staticClass:"mx-2",attrs:{underline:!1,type:"danger"}},[r("i",{staticClass:"fa fa-envelope fa-lg"}),e._v(" 邮件 ")]),e.currentUser?r("el-link",{staticClass:"mx-2",attrs:{underline:!1,type:"primary"}},[e._v("当前用户： "+e._s(e.currentUser))]):e._e(),r("el-link",{staticClass:"mx-2",attrs:{underline:!1,type:"danger"},on:{click:e.logout}},[e._v("注销")])],1)},o=[],a=r("1da1"),c=(r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4"),r("ade3"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r("96cf");var i=r("2f62"),l=r("fee1"),f={name:"LayoutHeader",methods:s(s({},Object(i["b"])(["SET_CURRENT_USER"])),{},{logout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("logout"),t.next=3,l["a"].logOut();case 3:"/"!=e.$route.path&&(e.SET_CURRENT_USER(null),localStorage.removeItem("preRoute"),localStorage.removeItem("token"),localStorage.removeItem("currentUser"),e.$router.push("/"));case 4:case"end":return t.stop()}}),t)})))()}}),computed:{currentUser:function(){if(localStorage.getItem("token"))return localStorage.getItem("currentUser")}}},p=f,b=(r("402f"),r("2877")),d=Object(b["a"])(p,n,o,!1,null,null,null);t["default"]=d.exports},8046:function(e,t,r){},8418:function(e,t,r){"use strict";var n=r("a04b"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var c=n(t);c in e?o.f(e,c,a(0,r)):e[c]=r}},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ade3:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},b64b:function(e,t,r){var n=r("23e7"),o=r("7b0b"),a=r("df75"),c=r("d039"),u=c((function(){a(1)}));n({target:"Object",stat:!0,forced:u},{keys:function(e){return a(o(e))}})},dbb4:function(e,t,r){var n=r("23e7"),o=r("83ab"),a=r("56ef"),c=r("fc6a"),u=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,r,n=c(e),o=u.f,i=a(n),l={},f=0;while(i.length>f)r=o(n,t=i[f++]),void 0!==r&&s(l,t,r);return l}})},e439:function(e,t,r){var n=r("23e7"),o=r("d039"),a=r("fc6a"),c=r("06cf").f,u=r("83ab"),s=o((function(){c(1)})),i=!u||s;n({target:"Object",stat:!0,forced:i,sham:!u},{getOwnPropertyDescriptor:function(e,t){return c(a(e),t)}})},fee1:function(e,t,r){"use strict";r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r("1da1"),a=r("d4ec"),c=r("bee2"),u=(r("96cf"),r("c72e")),s=r.n(u),i=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,[{key:"signUp",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n,o,a,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",e.prev=1,o=new s.a.User,o.setUsername(t),o.setPassword(r),o.set("nickname",t),n&&o.setEmail(n),e.next=9,o.signUp();case 9:return a=e.sent,console.log("注册账号成功：",a),e.abrupt("return",{status_code:"ok",user:a});case 14:return e.prev=14,e.t0=e["catch"](1),console.log("注册账号失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logIn",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.User.logIn(t,r);case 3:if(n=e.sent,!n){e.next=7;break}return console.log("登录成功:",n),e.abrupt("return",{status_code:"ok",user:n});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log("登录失败：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code,user:null});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"logOut",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.User.logOut());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"passwordResetByEmail",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.User.requestPasswordReset(t);case 3:return r=e.sent,console.log(r.code,n(r)),e.abrupt("return",{status_code:"ok"});case 8:return e.prev=8,e.t0=e["catch"](0),console.log("发送邮件：",e.t0.code,e.t0),e.abrupt("return",{status_code:e.t0.code});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.User.current().getSessionToken());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new i}}]);
//# sourceMappingURL=chunk-c0e0bdfc.992bbcd2.js.map